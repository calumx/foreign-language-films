{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Calum\\\\documents\\\\coding\\\\foreign language films\\\\src\\\\FilmSearch.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Suggestions from './Suggestions';\n\nclass FilmSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.url = \"https://api.themoviedb.org/3/search/movie?api_key=d1e40fddb73df31e61693cbf7ef094aa&query=\";\n\n    this.getInfo = () => {\n      axios.get(this.url + this.state.query + \"&adult=false\").then(x => {\n        const results = x.data.results;\n        this.setState({\n          results\n        });\n      });\n    };\n\n    this.handleInput = this.handleInput.bind(this);\n    this.state = {\n      query: '',\n      results: [],\n      typed: false\n    };\n  }\n\n  handleInput() {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo();\n          this.setState({\n            typed: true\n          });\n        }\n      } else if (!this.state.query) {\n        this.setState({\n          typed: false\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Film name... \",\n      ref: input => this.search = input,\n      onChange: this.handleInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), this.state.query ? /*#__PURE__*/React.createElement(Suggestions, {\n      results: this.state.results,\n      typed: this.state.typed,\n      popper: this.props.popper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 137\n      }\n    }));\n  }\n\n}\n\nexport default FilmSearch;","map":{"version":3,"sources":["C:/Users/Calum/documents/coding/foreign language films/src/FilmSearch.js"],"names":["React","axios","Suggestions","FilmSearch","Component","constructor","props","url","getInfo","get","state","query","then","x","results","data","setState","handleInput","bind","typed","search","value","length","render","input","popper"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SASdC,GATc,GASR,2FATQ;;AAAA,SAWnBC,OAXmB,GAWT,MAAM;AACZP,MAAAA,KAAK,CAACQ,GAAN,CAAU,KAAKF,GAAL,GAAW,KAAKG,KAAL,CAAWC,KAAtB,GAA8B,cAAxC,EACCC,IADD,CACMC,CAAC,IAAI;AACP,cAAMC,OAAO,GAAGD,CAAC,CAACE,IAAF,CAAOD,OAAvB;AACA,aAAKE,QAAL,CAAc;AAACF,UAAAA;AAAD,SAAd;AACH,OAJD;AAMH,KAlBkB;;AAEf,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKR,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETG,MAAAA,OAAO,EAAE,EAFA;AAGTK,MAAAA,KAAK,EAAE;AAHE,KAAb;AAKH;;AAYDF,EAAAA,WAAW,GAAG;AACV,SAAKD,QAAL,CAAc;AACVL,MAAAA,KAAK,EAAE,KAAKS,MAAL,CAAYC;AADT,KAAd,EAEG,MAAM;AACL,UAAI,KAAKX,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,GAA0B,CAAlD,EAAqD;AACjD,YAAI,KAAKZ,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACnC,eAAKd,OAAL;AACA,eAAKQ,QAAL,CAAc;AAACG,YAAAA,KAAK,EAAE;AAAR,WAAd;AACH;AACJ,OALD,MAKO,IAAI,CAAC,KAAKT,KAAL,CAAWC,KAAhB,EAAuB;AAC1B,aAAKK,QAAL,CAAc;AAACG,UAAAA,KAAK,EAAE;AAAR,SAAd;AACH;AACJ,KAXD;AAYH;;AAEDI,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,WAAW,EAAC,eAAnB;AACA,MAAA,GAAG,EAAEC,KAAK,IAAI,KAAKJ,MAAL,GAAcI,KAD5B;AAEA,MAAA,QAAQ,EAAE,KAAKP,WAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAIM,KAAKP,KAAL,CAAWC,KAAZ,gBAAqB,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWI,OAAjC;AAA0C,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWS,KAA5D;AAAmE,MAAA,MAAM,EAAE,KAAKb,KAAL,CAAWmB,MAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,gBAAuH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJ5H,CADJ;AAQH;;AA9CoC;;AAiDzC,eAAetB,UAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Suggestions from './Suggestions';\r\n\r\nclass FilmSearch extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.state = {\r\n            query: '',\r\n            results: [],\r\n            typed: false\r\n        }\r\n    }\r\n         url = \"https://api.themoviedb.org/3/search/movie?api_key=d1e40fddb73df31e61693cbf7ef094aa&query=\"\r\n    \r\n    getInfo = () => {\r\n        axios.get(this.url + this.state.query + \"&adult=false\")\r\n        .then(x => {\r\n            const results = x.data.results;\r\n            this.setState({results})\r\n        })\r\n\r\n    }\r\n\r\n    handleInput() {\r\n        this.setState({\r\n            query: this.search.value\r\n        }, () => {\r\n            if (this.state.query && this.state.query.length > 1) {\r\n                if (this.state.query.length % 2 === 0) {\r\n                    this.getInfo()\r\n                    this.setState({typed: true});\r\n                }\r\n            } else if (!this.state.query) {\r\n                this.setState({typed: false});\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <form>\r\n                <input placeholder=\"Film name... \"\r\n                ref={input => this.search = input}\r\n                onChange={this.handleInput} />\r\n                {(this.state.query) ? <Suggestions results={this.state.results} typed={this.state.typed} popper={this.props.popper} />: <div />}\r\n              </form>    \r\n        )\r\n    }\r\n}\r\n\r\nexport default FilmSearch;"]},"metadata":{},"sourceType":"module"}